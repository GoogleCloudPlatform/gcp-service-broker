# Copyright the Service Broker Project Authors. All rights reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

---
applications:
  - name: gcp-service-broker
    product_version: "3.1.2"
    metadata_version: "1.0"
    label: 'GCP Service Broker'
    description: Easily configure and grant access to GCP products
    memory: 1G
    buildpack: go_buildpack
    env:
      ROOT_SERVICE_ACCOUNT_JSON:  'add-json-string-here'
      SECURITY_USER_NAME: 'add-broker-user-here'
      SECURITY_USER_PASSWORD: 'add-broker-password-here'
      DB_HOST:  database.hostname.example.com
      DB_USERNAME: broker
      DB_PASSWORD: 'database-password-here'
      SERVICES: '[
        {
          "id": "b9e4332e-b42b-4680-bda5-ea1506797474",
          "description": "A Powerful, Simple and Cost Effective Object Storage Service",
          "name": "google-storage",
          "bindable": true,
          "plan_updateable": false,
          "metadata": {
            "displayName": "Google Cloud Storage",
            "longDescription": "A Powerful, Simple and Cost Effective Object Storage Service",
            "documentationUrl": "https://cloud.google.com/storage/docs/overview",
            "supportUrl": "https://cloud.google.com/support/",
            "imageUrl": "https://cloud.google.com/_static/images/cloud/products/logos/svg/storage.svg"
          },
          "tags": ["gcp", "storage"]
        },
        {
          "id": "628629e3-79f5-4255-b981-d14c6c7856be",
          "description": "A global service for real-time and reliable messaging and streaming data",
          "name": "google-pubsub",
          "bindable": true,
          "plan_updateable": false,
          "metadata": {
            "displayName": "Google PubSub",
            "longDescription": "A global service for real-time and reliable messaging and streaming data",
            "documentationUrl": "https://cloud.google.com/pubsub/docs/",
            "supportUrl": "https://cloud.google.com/support/",
            "imageUrl": "https://cloud.google.com/_static/images/cloud/products/logos/svg/pubsub.svg"
          },
          "tags": ["gcp", "pubsub"]
        },
        {
          "id": "f80c0a3e-bd4d-4809-a900-b4e33a6450f1",
          "description": "A fast, economical and fully managed data warehouse for large-scale data analytics",
          "name": "google-bigquery",
          "bindable": true,
          "plan_updateable": false,
          "metadata": {
            "displayName": "Google BigQuery",
            "longDescription": "A fast, economical and fully managed data warehouse for large-scale data analytics",
            "documentationUrl": "https://cloud.google.com/bigquery/docs/",
            "supportUrl": "https://cloud.google.com/support/",
            "imageUrl": "https://cloud.google.com/_static/images/cloud/products/logos/svg/bigquery.svg"
          },
          "tags": ["gcp", "bigquery"]
        },
        {
          "id": "4bc59b9a-8520-409f-85da-1c7552315863",
          "description": "Google Cloud SQL is a fully-managed MySQL database service",
          "name": "google-cloudsql-mysql",
          "bindable": true,
          "plan_updateable": false,
          "metadata": {
            "displayName": "Google CloudSQL MySQL",
            "longDescription": "Google Cloud SQL is a fully-managed MySQL database service",
            "documentationUrl": "https://cloud.google.com/sql/docs/",
            "supportUrl": "https://cloud.google.com/support/",
            "imageUrl": "https://cloud.google.com/_static/images/cloud/products/logos/svg/sql.svg"
          },
          "tags": ["gcp", "cloudsql", "mysql"]
        },
        {
          "id": "cbad6d78-a73c-432d-b8ff-b219a17a803a",
          "description": "Google Cloud SQL is a fully-managed PostgreSQL database service",
          "name": "google-cloudsql-postgres",
          "bindable": true,
          "plan_updateable": false,
          "metadata": {
            "displayName": "Google CloudSQL PostgreSQL",
            "longDescription": "Google Cloud SQL is a fully-managed MySQL database service",
            "documentationUrl": "https://cloud.google.com/sql/docs/",
            "supportUrl": "https://cloud.google.com/support/",
            "imageUrl": "https://cloud.google.com/_static/images/cloud/products/logos/svg/sql.svg"
          },
          "tags": ["gcp", "cloudsql", "postgres"]
        },
        {
          "id": "5ad2dce0-51f7-4ede-8b46-293d6df1e8d4",
          "description": "Machine Learning Apis including Vision, Translate, Speech, and Natural Language",
          "name": "google-ml-apis",
          "bindable": true,
          "plan_updateable": false,
          "metadata": {
            "displayName": "Google Machine Learning APIs",
            "longDescription": "Machine Learning Apis including Vision, Translate, Speech, and Natural Language",
            "documentationUrl": "https://cloud.google.com/ml/",
            "supportUrl": "https://cloud.google.com/support/",
            "imageUrl": "https://cloud.google.com/_static/images/cloud/products/logos/svg/machine-learning.svg"
          },
          "tags": ["gcp", "ml"]
        },
        {
          "id": "83837945-1547-41e0-b661-ea31d76eed11",
          "description": "Stackdriver Debugger",
          "name": "google-stackdriver-debugger",
          "bindable": true,
          "plan_updateable": false,
          "metadata": {
            "displayName": "Stackdriver Debugger",
            "longDescription": "Stackdriver Debugger is a feature of the Google Cloud Platform that lets you inspect the state of an application at any code location without using logging statements and without stopping or slowing down your applications. Your users are not impacted during debugging. Using the production debugger you can capture the local variables and call stack and link it back to a specific line location in your source code.",
            "documentationUrl": "https://cloud.google.com/debugger/docs/",
            "supportUrl": "https://cloud.google.com/support/",
            "imageUrl": "https://cloud.google.com/_static/images/cloud/products/logos/svg/debugger.svg"
          },
          "tags": ["gcp", "stackdriver", "debugger"]
        },
        {
          "id": "c5ddfe15-24d9-47f8-8ffe-f6b7daa9cf4a",
          "description": "Stackdriver Trace",
          "name": "google-stackdriver-trace",
          "bindable": true,
          "plan_updateable": false,
          "metadata": {
            "displayName": "Stackdriver Trace",
            "longDescription": "Stackdriver Trace is a distributed tracing system that collects latency data from your applications and displays it in the Google Cloud Platform Console. You can track how requests propagate through your application and receive detailed near real-time performance insights.",
            "documentationUrl": "https://cloud.google.com/trace/docs/",
            "supportUrl": "https://cloud.google.com/support/",
            "imageUrl": "https://cloud.google.com/_static/images/cloud/products/logos/svg/trace.svg"
          },
          "tags": ["gcp", "stackdriver", "trace"]
        },
        {
          "id": "76d4abb2-fee7-4c8f-aee1-bcea2837f02b",
          "description": "Google Cloud Datastore is a NoSQL document database service",
          "name": "google-datastore",
          "bindable": true,
          "plan_updateable": false,
          "metadata": {
            "displayName": "Google Cloud Datastore",
            "longDescription": "Google Cloud Datastore is a NoSQL document database built for automatic scaling, high performance, and ease of application development.",
            "documentationUrl": "https://cloud.google.com/datastore/docs/",
            "supportUrl": "https://cloud.google.com/support/",
            "imageUrl": "https://cloud.google.com/_static/images/cloud/products/logos/svg/datastore.svg"
          },
          "tags": ["gcp", "datastore"]
        },
        {
          "id": "b8e19880-ac58-42ef-b033-f7cd9c94d1fe",
          "description": "A high performance NoSQL database service for large analytical and operational workloads",
          "name": "google-bigtable",
          "bindable": true,
          "plan_updateable": false,
          "metadata": {
           "displayName": "Google Bigtable",
           "longDescription": "A high performance NoSQL database service for large analytical and operational workloads",
           "documentationUrl": "https://cloud.google.com/bigtable/",
           "supportUrl": "https://cloud.google.com/support/",
           "imageUrl": "https://cloud.google.com/_static/images/cloud/products/logos/svg/bigtable.svg"
          },
          "tags": ["gcp", "bigtable"]
        },
        {
          "id": "51b3e27e-d323-49ce-8c5f-1211e6409e82",
          "description": "The first horizontally scalable, globally consistent, relational database service",
          "name": "google-spanner",
          "bindable": true,
          "plan_updateable": false,
          "metadata": {
            "displayName": "Google Spanner",
            "longDescription": "The first horizontally scalable, globally consistent, relational database service",
            "documentationUrl": "https://cloud.google.com/spanner/",
            "supportUrl": "https://cloud.google.com/support/",
            "imageUrl": "https://cloud.google.com/_static/images/cloud/products/logos/svg/spanner.svg"
          },
          "tags": ["gcp", "spanner"]
        }
      ]'
      PRECONFIGURED_PLANS: '[
        {
          "service_id": "b9e4332e-b42b-4680-bda5-ea1506797474",
          "name": "standard",
          "display_name": "Standard",
          "description": "Standard storage class",
          "features": {"storage_class": "STANDARD"},
          "provision_params": { 
            "name" : {
                "title" : "Bucket Name",
                "type": "string", 
                "required": false, 
                "description":"Bucket name. Autogenerated if not provided."
            },
            "location" : {
                "title" : "Location",
                "type": "string",
                "required" : false,
                "default" : "us",
                "valid_values" : [
                    "us", "eu", "asia", "northamerica-northeast1", "us-central1", "us-east1",
                    "us-east4", "us-west1", "southamerica-east1", "europe-north1", "europe-west1",
                    "europe-west2", "europe-west3", "europe-west4", "asia-east1", "asia-northeast1",
                    "asia-south1", "asia-southeast1", "australia-southeast1"
                ],
                "description" : "Location for the bucket"
            }
          },
          "bind_params" : {
              "role" : {
                  "title" : "Role",
                  "type": "string",
                  "required": true,
                  "valid_values" : [ 
                      "storage.objectAdmin", "storage.objectCreator", "storage.objectViewer"
                  ],
                  "description" : "Role granted to the binding service account"
              }
          }
        },
        {
          "service_id": "b9e4332e-b42b-4680-bda5-ea1506797474",
          "name": "nearline",
          "display_name": "Nearline",
          "description": "Nearline storage class",
          "features": {"storage_class": "NEARLINE"},
          "provision_params": { 
            "name" : {
                "title" : "Bucket Name",
                "type": "string", 
                "required": false, 
                "description":"Bucket name. Autogenerated if not provided."
            },
            "location" : {
                "title":"Location",
                "type": "string",
                "required" : false,
                "default" : "us",
                "valid_values" : [
                    "us", "eu", "asia", "northamerica-northeast1", "us-central1", "us-east1",
                    "us-east4", "us-west1", "southamerica-east1", "europe-north1", "europe-west1",
                    "europe-west2", "europe-west3", "europe-west4", "asia-east1", "asia-northeast1",
                    "asia-south1", "asia-southeast1", "australia-southeast1"
                ],
                "description" : "Location for the bucket"
            }
          },
          "bind_params" : {
              "role" : {
                  "title" : "Role",
                  "type": "string",
                  "required": true,
                  "valid_values" : [ 
                      "storage.objectAdmin", "storage.objectCreator", "storage.objectViewer"
                  ],
                  "description" : "Role granted to the binding service account"
              }
          }
        },
        {
          "service_id": "b9e4332e-b42b-4680-bda5-ea1506797474",
          "name": "reduced_availability",
          "display_name": "Durable Reduced Availability",
          "description": "Durable Reduced Availability storage class",
          "features": {"storage_class": "DURABLE_REDUCED_AVAILABILITY"},
          "provision_params": { 
            "name" : {
                "title" : "Bucket Name",
                "type": "string", 
                "required": false, 
                "description":"Bucket name. Autogenerated if not provided."
            },
            "location" : {
                "title" : "Location",
                "type": "string",
                "required" : false,
                "default" : "us",
                "valid_values" : [
                    "us", "eu", "asia", "northamerica-northeast1", "us-central1", "us-east1",
                    "us-east4", "us-west1", "southamerica-east1", "europe-north1", "europe-west1",
                    "europe-west2", "europe-west3", "europe-west4", "asia-east1", "asia-northeast1",
                    "asia-south1", "asia-southeast1", "australia-southeast1"
                ],
                "description" : "Location for the bucket"
            }
          },
          "bind_params" : {
              "role" : {
                  "type": "string",
                  "title" : "Role",
                  "required": true,
                  "valid_values" : [ 
                      "storage.objectAdmin", "storage.objectCreator", "storage.objectViewer"
                  ],
                  "description" : "Role granted to the binding service account"
              }
          }
        },
        {
          "service_id": "628629e3-79f5-4255-b981-d14c6c7856be",
          "name": "default",
          "display_name": "Default",
          "description": "PubSub Default plan",
          "features": "",
          "provision_params": { 
            "topic_name" : {
                "title" : "Topic name",
                "type": "string", 
                "required": false, 
                "description":"Topic name. Autogenerated if not provided."
            },
            "subscription_name" : {
                "title" : "Subscription name",
                "type": "string", 
                "required": true, 
                "description":"Subscription name."
            },
            "is_push" : {
                "title" : "Push",
                "type" : "boolean",
                "default": false,
                "description" : "Is Push"
            },
            "endpoint" : {
                "title" : "Endpoint",
                "description" : "for when is_push is true. Defaults to nil",
                "type": "string",
                "required" : false
            },
            "ack_deadline" : {
                "title" : "Acknowledge deadline",
                "type" : "integer",
                "description" : "Acknowledge deadline in seconds. Max value is 600.",
                "default" : "10"
            }
          },
          "bind_params" : {
              "role" : {
                  "type": "string",
                  "required": true,
                  "valid_values" : [ 
                      "pubsub.publisher", "pubsub.subscriber", "pubsub.viewer", "pubsub.editor", "pubsub.admin"
                  ],
                  "description" : "Role granted to the binding service account"
              }
          }
        },
        { "service_id": "f80c0a3e-bd4d-4809-a900-b4e33a6450f1",
          "name": "default",
          "display_name": "Default",
          "description": "BigQuery default plan",
          "features": "",
          "provision_params" : {
            "name" : {
                "title" : "BigQuery name",
                "type": "string", 
                "required": false, 
                "description":"Name. Autogenerated if not provided."
            }
          },
          "bind_params" : {
              "role" : {
                  "type": "string",
                  "required": true,
                  "valid_values" : [ 
                      "bigquery.user", "bigquery.jobUser", "bigquery.dataViewer", 
                      "bigquery.dataEditor", "bigquery.dataOwner", "bigquery.admin"
                  ],
                  "description" : "Role granted to the binding service account"
              }
          }
        },
        {
          "service_id": "5ad2dce0-51f7-4ede-8b46-293d6df1e8d4",
          "name": "default",
          "display_name": "Default",
          "description": "Machine Learning api default plan",
          "features": "",
          "bind_params" : {
              "role" : {
                  "type": "string",
                  "required": true,
                  "valid_values" : [ 
                     "ml.admin", "ml.developer", "ml.viewer", "ml.modelOwner", "ml.modelUser",
                     "ml.jobOwner", "ml.operationOwner"
                  ],
                  "description" : "Role granted to the binding service account"
              }
          }
        },
        {
          "service_id": "83837945-1547-41e0-b661-ea31d76eed11",
          "name": "default",
          "display_name": "Default",
          "description": "Stackdriver Debugger default plan",
          "features": ""
         },
         {
          "service_id": "c5ddfe15-24d9-47f8-8ffe-f6b7daa9cf4a",
          "name": "default",
          "display_name": "Default",
          "description": "Stackdriver Trace default plan",
          "features": ""
         },
         {
          "service_id": "76d4abb2-fee7-4c8f-aee1-bcea2837f02b",
          "name": "default",
          "display_name": "Default",
          "description": "Datastore default plan",
          "features": ""
         }
      ]'
